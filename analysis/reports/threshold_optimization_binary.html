<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Threshold Optimization Report - 2025-08-20</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #1a1a1a;
            color: #e0e0e0;
            line-height: 1.6;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1, h2, h3 {
            color: #4CAF50;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        .phase-section {
            background-color: #2a2a2a;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #4CAF50;
        }
        .successful { border-left-color: #4CAF50; background-color: #1a4a1a; }
        .harmful { border-left-color: #f44336; background-color: #4a1a1a; }
        .harmless { border-left-color: #FFA726; background-color: #4a4a1a; }
        .mixed { border-left-color: #2196F3; background-color: #1a2a4a; }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background-color: #333;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #555;
        }
        th {
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
        }
        tr:hover { background-color: #444; }
        
        .metric {
            display: inline-block;
            margin: 10px 20px 10px 0;
            padding: 10px 15px;
            background-color: #333;
            border-radius: 5px;
        }
        .metric-label { color: #999; font-size: 0.9em; }
        .metric-value { font-size: 1.3em; font-weight: bold; color: #4CAF50; }
        
        .threshold-config {
            background-color: #333;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }
        
        .signal-detail {
            font-size: 0.9em;
            background-color: #444;
            padding: 10px;
            margin: 5px 0;
            border-radius: 3px;
        }
        
        .pass { color: #4CAF50; }
        .fail { color: #f44336; }
        .na { color: #999; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎯 Binary Threshold Optimization Report</h1>
        <div class="metric">
            <div class="metric-label">Analysis Date</div>
            <div class="metric-value">2025-08-20</div>
        </div>
        <div class="metric">
            <div class="metric-label">Total Phases</div>
            <div class="metric-value">5</div>
        </div>
        <div class="metric">
            <div class="metric-label">Cross-Detector Coverage</div>
            <div class="metric-value">3 phases</div>
        </div>
        
        <div class="metric">
            <div class="metric-label">Signal Clusters</div>
            <div class="metric-value">792</div>
        </div>
        <div class="metric">
            <div class="metric-label">Mixed Clusters Resolved</div>
            <div class="metric-value">25</div>
        </div>
        <div class="metric">
            <div class="metric-label">Signals Reclassified</div>
            <div class="metric-value">4023</div>
        </div>
        <div class="metric">
            <div class="metric-label">Largest Cluster</div>
            <div class="metric-value">176 signals</div>
        </div>

        
        <h2>📈 Traditional Indicators Analysis</h2>
        <div class="phase-section">
            <div class="metric">
                <div class="metric-label">Total Signals</div>
                <div class="metric-value">4815</div>
            </div>
            <div class="metric">
                <div class="metric-label">With Traditional Indicators</div>
                <div class="metric-value">4663 (97%)</div>
            </div>
            <div class="metric">
                <div class="metric-label">Filtered by Traditional</div>
                <div class="metric-value">0 (0%)</div>
            </div>
            
            <h4>Filter Breakdown</h4>
            <p>No filters triggered</p>
            
            <h4>Signal Categories (After Traditional Filter)</h4>
            <div class="metric">
                <div class="metric-label">Successful Signals</div>
                <div class="metric-value">436</div>
            </div>
            <div class="metric">
                <div class="metric-label">Harmful Signals</div>
                <div class="metric-value">1847</div>
            </div>
            <div class="metric">
                <div class="metric-label">Harmless Signals</div>
                <div class="metric-value">2380</div>
            </div>
            
            <h4>Traditional Indicators Impact on Optimization</h4>
            
            <p><em>Traditional indicators currently not filtering any signals. All signals passing traditional indicator checks.</em></p>
            
        </div>
        

        <h2>📊 Phase Categorization</h2>
        
        
            <div class="phase-section harmful">
                <h3>Phase 1 - HARMFUL (UP)</h3>
                <div class="metric">
                    <div class="metric-label">Time Range (Lima)</div>
                    <div class="metric-value">08/19/2025, 19:27:41 → 08/19/2025, 19:36:00</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Price Movement</div>
                    <div class="metric-value">$113.19 → $113.86 (0.59%)</div>
                </div>
                
                
                <table>
                    <tr>
                        <th>Detector</th>
                        <th>Successful</th>
                        <th>Harmful</th>
                        <th>Harmless</th>
                        <th>Wrong-Sided</th>
                    </tr>
                    
                    <tr>
                        <td><strong>DELTACVD</strong></td>
                        <td class="pass">0</td>
                        <td class="fail">16</td>
                        <td style="color: #FFA726">0</td>
                        <td class="fail">1</td>
                    </tr>
                    
                </table>
                
                
                
            </div>
            
            <div class="phase-section mixed">
                <h3>Phase 4 - MIXED (UP)</h3>
                <div class="metric">
                    <div class="metric-label">Time Range (Lima)</div>
                    <div class="metric-value">08/19/2025, 22:07:04 → 08/19/2025, 22:34:45</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Price Movement</div>
                    <div class="metric-value">$113.66 → $114.36 (0.62%)</div>
                </div>
                
                
                <table>
                    <tr>
                        <th>Detector</th>
                        <th>Successful</th>
                        <th>Harmful</th>
                        <th>Harmless</th>
                        <th>Wrong-Sided</th>
                    </tr>
                    
                    <tr>
                        <td><strong>ABSORPTION</strong></td>
                        <td class="pass">8</td>
                        <td class="fail">8</td>
                        <td style="color: #FFA726">8</td>
                        <td class="fail">8</td>
                    </tr>
                    
                    <tr>
                        <td><strong>DELTACVD</strong></td>
                        <td class="pass">6</td>
                        <td class="fail">92</td>
                        <td style="color: #FFA726">24</td>
                        <td class="fail">38</td>
                    </tr>
                    
                </table>
                
                
                
                <p><strong>Cross-detector coverage:</strong> absorption, deltacvd</p>
                
            </div>
            
            <div class="phase-section mixed">
                <h3>Phase 5 - MIXED (DOWN)</h3>
                <div class="metric">
                    <div class="metric-label">Time Range (Lima)</div>
                    <div class="metric-value">08/19/2025, 22:34:45 → 08/19/2025, 22:42:53</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Price Movement</div>
                    <div class="metric-value">$114.36 → $113.67 (0.60%)</div>
                </div>
                
                
                <table>
                    <tr>
                        <th>Detector</th>
                        <th>Successful</th>
                        <th>Harmful</th>
                        <th>Harmless</th>
                        <th>Wrong-Sided</th>
                    </tr>
                    
                    <tr>
                        <td><strong>ABSORPTION</strong></td>
                        <td class="pass">0</td>
                        <td class="fail">0</td>
                        <td style="color: #FFA726">2</td>
                        <td class="fail">2</td>
                    </tr>
                    
                    <tr>
                        <td><strong>DELTACVD</strong></td>
                        <td class="pass">0</td>
                        <td class="fail">5</td>
                        <td style="color: #FFA726">0</td>
                        <td class="fail">5</td>
                    </tr>
                    
                </table>
                
                
                
            </div>
            
            <div class="phase-section mixed">
                <h3>Phase 6 - MIXED (UP)</h3>
                <div class="metric">
                    <div class="metric-label">Time Range (Lima)</div>
                    <div class="metric-value">08/19/2025, 22:42:53 → 08/19/2025, 23:32:29</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Price Movement</div>
                    <div class="metric-value">$113.67 → $114.53 (0.76%)</div>
                </div>
                
                
                <table>
                    <tr>
                        <th>Detector</th>
                        <th>Successful</th>
                        <th>Harmful</th>
                        <th>Harmless</th>
                        <th>Wrong-Sided</th>
                    </tr>
                    
                    <tr>
                        <td><strong>ABSORPTION</strong></td>
                        <td class="pass">0</td>
                        <td class="fail">28</td>
                        <td style="color: #FFA726">0</td>
                        <td class="fail">28</td>
                    </tr>
                    
                    <tr>
                        <td><strong>DELTACVD</strong></td>
                        <td class="pass">27</td>
                        <td class="fail">61</td>
                        <td style="color: #FFA726">207</td>
                        <td class="fail">115</td>
                    </tr>
                    
                </table>
                
                
                
                <p><strong>Cross-detector coverage:</strong> deltacvd</p>
                
            </div>
            
            <div class="phase-section mixed">
                <h3>Phase 7 - MIXED (UP)</h3>
                <div class="metric">
                    <div class="metric-label">Time Range (Lima)</div>
                    <div class="metric-value">08/19/2025, 23:32:29 → 08/20/2025, 03:41:42</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Price Movement</div>
                    <div class="metric-value">$114.53 → $115.33 (0.70%)</div>
                </div>
                
                
                <table>
                    <tr>
                        <th>Detector</th>
                        <th>Successful</th>
                        <th>Harmful</th>
                        <th>Harmless</th>
                        <th>Wrong-Sided</th>
                    </tr>
                    
                    <tr>
                        <td><strong>ABSORPTION</strong></td>
                        <td class="pass">24</td>
                        <td class="fail">30</td>
                        <td style="color: #FFA726">81</td>
                        <td class="fail">63</td>
                    </tr>
                    
                    <tr>
                        <td><strong>DELTACVD</strong></td>
                        <td class="pass">90</td>
                        <td class="fail">395</td>
                        <td style="color: #FFA726">554</td>
                        <td class="fail">340</td>
                    </tr>
                    
                </table>
                
                
                
                <p><strong>Cross-detector coverage:</strong> absorption, deltacvd</p>
                
            </div>
            

        <h2>⚙️ Detector Optimizations</h2>
        
        
        <div class="phase-section">
            <h3>ABSORPTION Detector</h3>
            
            <div class="metric">
                <div class="metric-label">Harmful Eliminated</div>
                <div class="metric-value">215/215 (100%)</div>
            </div>
            <div class="metric">
                <div class="metric-label">Successful Kept</div>
                <div class="metric-value">0</div>
            </div>
            <div class="metric">
                <div class="metric-label">Harmless Kept</div>
                <div class="metric-value">1</div>
            </div>
            
            <h4>Complete Threshold Configuration</h4>
            <div class="threshold-config">
minAggVolume: 183.443000 ⚡<br>passiveAbsorptionThreshold: 0.974676 ⚡<br>priceEfficiencyThreshold: 0.000387 ⚡<br>maxPriceImpactRatio: 0.000421 ⚡<br>minPassiveMultiplier: 38.487464 ⚡<br>maxVolumeMultiplierRatio: 4.445216 ⚡<br>balanceThreshold: 0.008478 ⚡<br>priceStabilityTicks: 3.000000 ⚡
            </div>
            
            <h4>Phase Analysis</h4>
            <p><strong>Protected Phases:</strong> None (must maintain coverage)</p>
            <p><strong>Dispensable Phases:</strong> 4, 7 (covered by other detectors)</p>
            <p><strong>Harmful-Only Phases:</strong> 6 (eliminate signals)</p>
            <p><strong>Harmless-Only Phases:</strong> 5 (report only)</p>
            
            <h4>Remaining Signals Detail</h4>
            
            
            
            
            
            <h5>🟡 Harmless Signals (1)</h5>
            <p>Signals that don't hit SL but also don't reach full TP target</p>
            
        </div>
        
        <div class="phase-section">
            <h3>DELTACVD Detector</h3>
            
            <div class="metric">
                <div class="metric-label">Harmful Eliminated</div>
                <div class="metric-value">1651/1769 (93%)</div>
            </div>
            <div class="metric">
                <div class="metric-label">Successful Kept</div>
                <div class="metric-value">4</div>
            </div>
            <div class="metric">
                <div class="metric-label">Harmless Kept</div>
                <div class="metric-value">92</div>
            </div>
            
            <h4>Complete Threshold Configuration</h4>
            <div class="threshold-config">
minTradesPerSec: 0.400000<br>minVolPerSec: 0.500000<br>signalThreshold: 0.790000 ⚡<br>cvdImbalanceThreshold: 0.180000<br>institutionalThreshold: 25.000000 ⚡<br>volumeEfficiencyThreshold: 0.375449 ⚡
            </div>
            
            <h4>Phase Analysis</h4>
            <p><strong>Protected Phases:</strong> 6 (must maintain coverage)</p>
            <p><strong>Dispensable Phases:</strong> 4, 7 (covered by other detectors)</p>
            <p><strong>Harmful-Only Phases:</strong> 1, 5 (eliminate signals)</p>
            <p><strong>Harmless-Only Phases:</strong> None (report only)</p>
            
            <h4>Remaining Signals Detail</h4>
            
            <h5>✅ Successful Signals (4)</h5>
            
            <div class="signal-detail">
                <strong>Phase 6:</strong> 2025-08-20T03:49:02.158Z | 
                buy @ $113.6300 | 
                Reached 0.7%+ profit target<br>
                <small>Thresholds: minTradesPerSec=0.7222, minVolPerSec=2.0234, signalThreshold=0.8300, cvdImbalanceThreshold=0.9921, institutionalThreshold=32.7200, volumeEfficiencyThreshold=0.5218, vwap=113.6900, rsi=40.6393</small>
            </div>
            
            <div class="signal-detail">
                <strong>Phase 7:</strong> 2025-08-20T08:06:43.790Z | 
                buy @ $114.0600 | 
                Reached 0.7%+ profit target<br>
                <small>Thresholds: minTradesPerSec=1.6056, minVolPerSec=11.3316, signalThreshold=0.8100, cvdImbalanceThreshold=1.0000, institutionalThreshold=49.9620, volumeEfficiencyThreshold=0.5225, vwap=113.9000, rsi=41.2214</small>
            </div>
            
            <div class="signal-detail">
                <strong>Phase undefined:</strong> 2025-08-20T08:51:10.082Z | 
                sell @ $115.1700 | 
                Reached 0.7%+ profit target<br>
                <small>Thresholds: minTradesPerSec=1.5500, minVolPerSec=9.8261, signalThreshold=0.8200, cvdImbalanceThreshold=1.0000, institutionalThreshold=43.5430, volumeEfficiencyThreshold=0.3923, vwap=115.2300, rsi=69.7115</small>
            </div>
            
            <div class="signal-detail">
                <strong>Phase undefined:</strong> 2025-08-20T10:12:08.646Z | 
                buy @ $114.4000 | 
                Reached 0.7%+ profit target<br>
                <small>Thresholds: minTradesPerSec=1.6222, minVolPerSec=8.8275, signalThreshold=0.8700, cvdImbalanceThreshold=1.0000, institutionalThreshold=50.1180, volumeEfficiencyThreshold=0.4546, vwap=114.5500, rsi=29.8851</small>
            </div>
            
            
            
            
            
            <h5>🔴 Harmful Signals Remaining (118)</h5>
            
            <div class="signal-detail">
                <strong>Phase undefined:</strong> 2025-08-20T00:04:49.842Z | 
                buy @ $113.2300 | 
                 | Hit stop loss: 0.44%<br>
                <small>Thresholds: minTradesPerSec=0.6889, minVolPerSec=1.5092, signalThreshold=0.8900, cvdImbalanceThreshold=1.0000, institutionalThreshold=27.0090, volumeEfficiencyThreshold=0.7158</small>
            </div>
            
            <div class="signal-detail">
                <strong>Phase undefined:</strong> 2025-08-20T00:04:49.842Z | 
                buy @ $113.2400 | 
                 | Hit stop loss: 0.45%<br>
                <small>Thresholds: minTradesPerSec=0.6944, minVolPerSec=1.9100, signalThreshold=0.8900, cvdImbalanceThreshold=1.0000, institutionalThreshold=72.1380, volumeEfficiencyThreshold=0.7754</small>
            </div>
            
            <div class="signal-detail">
                <strong>Phase undefined:</strong> 2025-08-20T00:04:49.842Z | 
                buy @ $113.2500 | 
                 | Hit stop loss: 0.46%<br>
                <small>Thresholds: minTradesPerSec=0.7000, minVolPerSec=2.5031, signalThreshold=0.9000, cvdImbalanceThreshold=1.0000, institutionalThreshold=106.7720, volumeEfficiencyThreshold=0.8286</small>
            </div>
            
            <div class="signal-detail">
                <strong>Phase undefined:</strong> 2025-08-20T00:04:49.842Z | 
                buy @ $113.2600 | 
                 | Hit stop loss: 0.47%<br>
                <small>Thresholds: minTradesPerSec=0.7056, minVolPerSec=3.4431, signalThreshold=0.9000, cvdImbalanceThreshold=1.0000, institutionalThreshold=169.1870, volumeEfficiencyThreshold=0.8754</small>
            </div>
            
            <div class="signal-detail">
                <strong>Phase undefined:</strong> 2025-08-20T00:04:49.842Z | 
                buy @ $113.2700 | 
                 | Hit stop loss: 0.48%<br>
                <small>Thresholds: minTradesPerSec=0.7111, minVolPerSec=3.6238, signalThreshold=0.9000, cvdImbalanceThreshold=1.0000, institutionalThreshold=32.5220, volumeEfficiencyThreshold=0.8816</small>
            </div>
            
            <p>... and 113 more</p>
            
            
            
            <h5>🟡 Harmless Signals (92)</h5>
            <p>Signals that don't hit SL but also don't reach full TP target</p>
            
        </div>
        

        <div style="margin-top: 40px; color: #888; font-size: 12px;">
            <p>Generated: 2025-08-20T12:48:54.516Z</p>
            <p>Binary optimization: Phase preservation over scoring</p>
            <p>Cross-detector coverage protection enabled</p>
        </div>
    </div>
</body>
</html>