<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>LTCUSDT Trading Dashboard</title>
        <link rel="stylesheet" href="styles/dashboard.css" />

        <!-- Import Maps for ES Module Resolution -->
        <script type="importmap">
        {
            "imports": {
                "chart.js": "https://cdn.jsdelivr.net/npm/chart.js@4.3.0/+esm",
                "chartjs-adapter-date-fns": "https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/+esm",
                "chartjs-plugin-zoom": "https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.2.0/+esm",
                "date-fns": "https://cdn.jsdelivr.net/npm/date-fns@3.6.0/+esm",
                "chartjs-plugin-annotation": "https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/+esm"
            }
        }
        </script>
    </head>
    <body>
        <main class="dashboard">
            <!-- Column 1: Order Book -->
            <section class="column" id="column1">
                <div class="chart-container" id="orderBookContainer">
                    <div class="chartAreaWrapper50">
                        <canvas id="orderBookChart"></canvas>
                    </div>
                </div>
                <div class="resize-handle" id="resize1"></div>
            </section>

            <!-- Column 2: Trading Chart -->
            <section class="column" id="column2">
                <div class="chart-container" id="tradesContainer">
                    <div class="rangeSelector">
                        <button data-range="60000">1m</button>
                        <button data-range="900000">15m</button>
                        <button data-range="2700000">45m</button>
                        <button data-range="5400000">90m</button>
                        <button data-range="all">All</button>
                        <button
                            id="themeToggle"
                            class="theme-toggle-btn"
                            title="Toggle theme"
                        >
                            ðŸ”„ System
                        </button>
                        <button
                            id="depletionToggle"
                            class="depletion-toggle-btn"
                            title="Toggle orderbook depletion visualization"
                        >
                            ðŸ“Š Depletion
                        </button>
                        <button
                            id="resetLayout"
                            class="reset-layout-btn"
                            title="Reset all dashboard settings to default"
                        >
                            Reset All
                        </button>
                        <div
                            class="trade-delay-indicator"
                            id="tradeDelayIndicator"
                        >
                            <span class="delay-title">Server Delay:</span>
                            <span id="tradeDelayValue">0ms</span>
                        </div>
                    </div>
                    <div class="chartAreaWrapper">
                        <canvas id="tradesChart"></canvas>
                    </div>
                </div>
                <div class="resize-handle-y" id="resize-v1"></div>
                <div class="chart-container" id="rsiContainer">
                    <div class="chartAreaWrapper50">
                        <canvas id="rsiChart"></canvas>
                    </div>
                </div>
                <div class="resize-handle" id="resize2"></div>
            </section>

            <!-- Column 3: Signals and Anomalies -->
            <section class="column" id="column3">
                <div class="signals-container" id="signalsContainer">
                    <div class="signals-header">
                        <span>Trading Signals</span>
                        <span class="signals-filter">
                            <label
                                ><input
                                    type="checkbox"
                                    value="buy"
                                    checked
                                />Buy</label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    value="sell"
                                    checked
                                />Sell</label
                            >
                        </span>
                    </div>
                    <div class="signals-list" id="signalsList"></div>
                </div>
                <div class="resize-handle-y" id="resize-v2"></div>
                <div class="anomaly-list-container" id="anomalyListContainer">
                    <div class="anomaly-list-header">
                        <span>Market Health</span>
                        <span class="anomaly-filter">
                            <label
                                ><input
                                    type="checkbox"
                                    value="critical"
                                    checked
                                />Critical</label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    value="high"
                                    checked
                                />High</label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    value="medium"
                                />Medium</label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    value="info"
                                />Info</label
                            >
                        </span>
                    </div>
                    <div class="anomaly-list" id="anomalyList"></div>
                </div>
            </section>
        </main>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"
        ></script>
        <script defer src="scripts/dashboard/main.js" type="module"></script>
    </body>
</html>
